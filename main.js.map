{"version":3,"sources":["en.js","$_lazy_route_resource lazy namespace object","src/app/404/page-not-found.component.ts","src/app/404/page-not-found.component.html","src/app/app-routing.module.ts","src/app/app.component.ts","src/app/app.component.html","src/app/app.module.ts","src/app/client/client.component.ts","src/app/client/client.component.html","src/app/core/com.service.ts","src/app/core/to-safe.pipe.ts","src/app/manage/manage.component.ts","src/app/manage/manage.component.html","src/app/server/server.component.ts","src/app/server/server.component.html","src/app/shared/chat-dailog/chat-dailog.component.ts","src/app/shared/chat-dailog/chat-dailog.component.html","src/app/shared/chat-dailog/components/chat-content/chat-content.component.ts","src/app/shared/chat-dailog/components/chat-content/chat-content.component.html","src/app/shared/chat-dailog/components/send-area/send-area.component.ts","src/app/shared/chat-dailog/components/send-area/send-area.component.html","src/app/shared/header/header.component.ts","src/app/shared/header/header.component.html","src/assets/js/calendar.js","src/environments/environment.ts","src/main.ts"],"names":["undefined","_global","extend","def","opt","override","k","hasOwnProperty","formartDate","y","m","d","symbol","toString","Schedule","curDate","date","Date","year","getFullYear","month","getMonth","day","getDate","currentYear","currentMonth","currentDay","selectedDate","el","document","querySelector","_this","bindEvent","addEventListener","e","target","id","nextMonthFun","nextYearFun","prevMonthFun","prevYearFun","className","indexOf","clickCb","innerHTML","title","render","init","translate","lastYear","en","zh","lastMonth","nextMonth","nextYear","Mo","Tu","Wed","Thr","Fr","Sa","Sun","scheduleHd","lang","scheduleWeek","scheduleBd","fullDay","startWeek","getDay","total","lastMonthDay","eleTemp","i","push","nowDate","addClass","join","nextMonthCb","nextYeayCb","prevMonthCb","prevYearCb","eval","module","exports","define"],"mappings":"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","file":"main.js","sourcesContent":["\"use strict\";(function(global){global.ng=global.ng||{};global.ng.common=global.ng.common||{};global.ng.common.locales=global.ng.common.locales||{};var u=undefined;function plural(n){var i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\\.?/,\"\").length;if(i===1&&v===0)return 1;return 5}global.ng.common.locales[\"en\"]=[\"en\",[[\"a\",\"p\"],[\"AM\",\"PM\"],u],[[\"AM\",\"PM\"],u,u],[[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"]],u,[[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]],u,[[\"B\",\"A\"],[\"BC\",\"AD\"],[\"Before Christ\",\"Anno Domini\"]],0,[6,0],[\"M/d/yy\",\"MMM d, y\",\"MMMM d, y\",\"EEEE, MMMM d, y\"],[\"h:mm a\",\"h:mm:ss a\",\"h:mm:ss a z\",\"h:mm:ss a zzzz\"],[\"{1}, {0}\",u,\"{1} 'at' {0}\",u],[\".\",\",\",\";\",\"%\",\"+\",\"-\",\"E\",\"\\xD7\",\"\\u2030\",\"\\u221E\",\"NaN\",\":\"],[\"#,##0.###\",\"#,##0%\",\"\\xA4#,##0.00\",\"#E0\"],\"USD\",\"$\",\"US Dollar\",{},\"ltr\",plural,[[[\"mi\",\"n\",\"in the morning\",\"in the afternoon\",\"in the evening\",\"at night\"],[\"midnight\",\"noon\",\"in the morning\",\"in the afternoon\",\"in the evening\",\"at night\"],u],[[\"midnight\",\"noon\",\"morning\",\"afternoon\",\"evening\",\"night\"],u,u],[\"00:00\",\"12:00\",[\"06:00\",\"12:00\"],[\"12:00\",\"18:00\"],[\"18:00\",\"21:00\"],[\"21:00\",\"06:00\"]]]]})(typeof globalThis!==\"undefined\"&&globalThis||typeof global!==\"undefined\"&&global||typeof window!==\"undefined\"&&window);","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnInit } from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.css']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  pageHeight: number;\n  pageWidth: number;\n\n  ngOnInit() {\n    this.pageHeight = window.innerHeight;\n    this.pageWidth = window.innerWidth;\n    console.log({\n      DATA: this.pageHeight,\n      SDGS:  this.pageWidth\n    })\n    window.onresize = (event) => {\n      this.pageHeight = window.innerHeight;\n      this.pageWidth = window.innerWidth;\n    };\n  }\n\n}\n","<div class=\"d-flex justify-content-center align-items-center \" style=\"font-size: 40px;height: 100%;\">\n  <div class=\"\">\n    <div style=\"font-size: 200%;\">404</div>\n    <div i18n=\"@@notFound\">页面没有找到</div>\n    <a [routerLink]=\"[ '/' ]\" [ngStyle]=\"{'font-size': '14px'}\" i18n=\"@@back\">返回到首页</a>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { ClientComponent } from './client/client.component';\nimport { ServerComponent } from './server/server.component';\nimport { ManageComponent } from './manage/manage.component';\nimport { PageNotFoundComponent } from './404/page-not-found.component';\nconst routes: Routes = [\n  { path:'auth',loadChildren:()=>import('./auth/auth.module').then(mod=>mod.AuthModule)},\n  { path: 'client', component: ClientComponent,data:{title:'Client'} },\n  { path: 'server', component: ServerComponent,data:{title:'Server'} },\n  { path: 'manage', component: ManageComponent,data:{title:'Manager'}  },\n  { path:'',redirectTo:'/client',pathMatch:'full'},\n  { path: '**', component:   PageNotFoundComponent},\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes), FormsModule, ReactiveFormsModule],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { ChangeDetectorRef, Component,OnInit } from '@angular/core';\nimport {ComService} from  './core/com.service'\n \n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent implements OnInit {\n   \n  show:boolean = false;\n  msg:string='';\n  \n  constructor(\n    public com :ComService,\n    private cdr:ChangeDetectorRef\n    ){\n\n  }\n  ngOnInit(): void {    \n    this.com.setTitle();\n    this.com.alert.subscribe((alert:any)=>{\n      console.log('alert: ', alert);\n     this.show = alert.show;\n     console.log('this.show: ', this.show);\n\n     this.msg = alert.msg;\n     this.cdr.detectChanges();\n      \n    })\n  }\n\n   \n  \n}\n"," \r\n<router-outlet></router-outlet> \r\n \r\n<div class=\"alert \" [ngClass]=\"show?'show':'hide'\">{{ msg}}</div>\r\n \r\n<div class=\"mask ie-scroll other-scroll\" *ngIf=\"com.previewOption.isShowMask\" (click)=\"com.previewOption.isShowMask= false\">\r\n    <img [src]=\"com.previewOption.src\"  onerror=\"this.src='/assets/images/error.jpg'\">\r\n</div>\r\n \r\n\r\n ","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ClientComponent } from './client/client.component';\nimport { ServerComponent } from './server/server.component';\nimport { ManageComponent } from './manage/manage.component';\nimport { PageNotFoundComponent } from './404/page-not-found.component';\nimport { SendAreaComponent } from './shared/chat-dailog/components/send-area/send-area.component';\nimport { ChatContentComponent } from './shared/chat-dailog/components/chat-content/chat-content.component';\nimport {ToSafePipe} from './core/to-safe.pipe';\nimport { ChatDailogComponent } from './shared/chat-dailog/chat-dailog.component';\nimport { HeaderComponent } from './shared/header/header.component'\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ClientComponent,\n    ServerComponent,\n    ManageComponent,\n    PageNotFoundComponent,\n    SendAreaComponent,\n    ChatContentComponent,\n    ToSafePipe,\n    ChatDailogComponent,\n    HeaderComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    HttpClientModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component,  OnInit } from '@angular/core';\n\n\n@Component({\n  selector: 'app-client',\n  templateUrl: './client.component.html',\n  styleUrls: ['./client.component.css'],\n})\nexport class ClientComponent implements OnInit {\n  constructor() {}\n  ngOnInit(): void {    \n    \n  }\n \n\n  \n\n \n \n \n}\n","<div class=\"container  clearfix\" id=\"main\">\n\n  <app-header [show]=\"true\" [isServer]=\"false\"></app-header>\n\n  <chat-dailog  [isServer]=\"false\" ></chat-dailog>\n</div>\n","import {\n  HttpClient,\n  HttpErrorResponse,\n  HttpEventType,\n  HttpRequest,\n  HttpResponse,\n} from '@angular/common/http';\nimport { Inject, Injectable, LOCALE_ID } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { of, throwError, Subject } from 'rxjs';\nimport { catchError, filter, map, retry, tap } from 'rxjs/operators';\n@Injectable({\n  providedIn: 'root',\n})\nexport class ComService {\n  \n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private titleService: Title,\n    @Inject(LOCALE_ID) public localId: string\n  ) {}\n\n  // 错误消息提示\n  // alert: { msg: string; show: boolean } = { msg: '', show: false };\n  alert = new Subject();\n  ws: any;\n  data: any = {};\n  previewOption: { isShowMask: boolean; src?: string } = {\n    isShowMask: false,\n  };\n  subscriber = null; // polling订阅\n  sub = new Subject<any>();\n  api = {\n    login: '/api/auth/login', //post\n    register: '/api/auth/register', //post\n    message: '/api/message/', //post\n    polling: '/api/message/polling', //get\n    history: '/api/message/record', //get\n    userList: '/api/user/list', // get\n    logout: '/api/auth/logout', //post\n    userInfo: '/api/user/', //{uid},get\n    files: '/file/', // 上传文件\n  };\n  who: any = null; // 是客服对象还是客户对象\n  isLogin: boolean = true;\n  // 断网重连？\n  reconnect: boolean = false;\n  ISend: any = [];\n  IReceived: any = [];\n\n  setTitle() {\n    this.router.events\n      .pipe(\n        filter(event => event instanceof NavigationEnd),\n        map(() => this.router)\n      )\n      .subscribe((event) => {\n        const titles = this.getTitle(this.router.routerState, this.router.routerState.root);\n        const title = titles[titles.length - 1];\n        // console.log(title);f\n        if (title) {\n          this.titleService.setTitle('Chat System for ' + title);\n        }\n      });\n  }\n\n  public getTitle(state, parent) {\n    const data = [];\n    if (parent && parent.snapshot.data && parent.snapshot.data.title) {\n      data.push(parent.snapshot.data.title);\n    }\n    if (state && parent) {\n      const tmp = this.getTitle(state, state.firstChild(parent));\n      tmp.forEach((el)=>{\n        data.push(el);\n      })\n      \n    }\n    return data;\n  }\n\n  // 格式化时间\n  formatTime(\n    date: string | number | Date = '' /* 日期，可选默认今天 */,\n    fmt = 'YYYY-MM-DD' /*格式字符串默认YYYY-MM-DD hh:mm:ss */\n  ) {\n    //兼容ios\n    if (typeof date === 'string') {\n      date = date.replace(/-/g, '/');\n    }\n    date = date ? new Date(date) : new Date();\n    var o = {\n      'Y+': date.getFullYear(), //年\n      'M+': date.getMonth() + 1, //月份\n      'D+': date.getDate(), //日\n      'h+': date.getHours(), //小时\n      'm+': date.getMinutes(), //分\n      's+': date.getSeconds(), //秒\n      'q+': Math.floor((date.getMonth() + 3) / 3), //季度\n      S: date.getMilliseconds(), //毫秒\n    };\n    if (/(Y+)/.test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, (o['Y+'] + '').substr(4 - RegExp.$1.length));\n    }\n    for (var k in o) {\n      if (new RegExp('(' + k + ')').test(fmt)) {\n        fmt = fmt.replace(\n          RegExp.$1,\n          RegExp.$1.length == 1\n            ? o[k]\n            : ('00' + o[k]).substr(('' + o[k]).length)\n        );\n      }\n    }\n    return fmt;\n  }\n  timeFromNow(time) {\n    //时间转换\n    const timestamp = Date.now();\n    const createTime = new Date(time);\n    time = createTime.getTime();\n    const diff = timestamp - time;\n    if (diff < 60 * 1000) {\n      return '';\n    } else if (diff < 60 * 60 * 1000) {\n      return (\n        Math.floor(diff / (60 * 1000)) +\n        { en: ' minutes ago', zh: '分钟前' }[this.localId]\n      );\n    } else if (diff < 24 * 60 * 60 * 1000) {\n      return (\n        Math.floor(diff / (60 * 60 * 1000)) +\n        { en: ' hours ago', zh: '小时前' }[this.localId]\n      );\n    } else {\n      return this.formatTime(time, 'YYYY-MM-DD hh:mm');\n    }\n  }\n\n  showAlert(msg,duration?:number) {\n    console.log('执行showAlert' );\n    this.alert.next({show:true,msg:msg});\n    \n    \n    setTimeout(() => {\n     this.alert.next({show:false,msg})\n    }, duration??2000);\n  }\n\n  clearCookie() {\n    var date = new Date();\n    date.setTime(date.getTime() - 10000);\n    var keys = document.cookie.match(/[^ =;]+(?=\\=)/g);\n    if (keys) {\n      for (var i = keys.length; i--; )\n        document.cookie =\n          keys[i] + '=0; expire=' + date.toDateString() + '; path=/';\n    }\n  }\n\n  doHttpResponse(res, success, fail?, isServer?) {\n    \n    let code = res.code;\n    if (code) {\n      if (code === 3 || code === 6) {\n        // 未登录3 无权限6\n        this.subscriber.unsubscribe();\n        // 是客户就不用提示未登录了-直接清空cookie-重新发送\n        \n        if (isServer) {\n          this.showAlert(\n            this.localId === 'en'\n              ? 'Login invalid, please login again'\n              : '登录失效，请重新登录'\n          );\n          // 如果需要登录才去登录-客户端无需登录-停留在客户端\n          setTimeout(() => {\n            this.router.navigate(['/auth/login']);\n          }, 2000);\n        } else {\n          \n          this.clearCookie();\n        }\n      } else {\n        fail ? fail(res) : this.showAlert(res.msg);\n      }\n    } else {\n      // 成功\n      success && success(res.data);\n    }\n  }\n\n  // 发送消息\n  sendMsg(msg, success?, fail?,isServer?) {\n    console.log('sendMsg isServer==: ', msg,isServer);\n    this.http\n      .post(this.api.message, msg)\n      .pipe(\n        catchError(\n          this.handleError('sendMsg', () => {\n            fail && fail();\n          })\n        )\n      )\n      .subscribe((res) => {\n        this.doHttpResponse(\n          res,\n          (data) => {\n            success && success(data);\n          },\n          fail,\n          isServer\n        );\n      });\n  }\n  private handleError(uri: string, failCallback?) {\n    return (error: HttpErrorResponse) => {\n      console.log('uri error:== ',error);\n      \n      this.reconnect = true;\n      if (failCallback) {\n        console.log('执行fail()');\n        failCallback();\n      } else {\n        this.showAlert('http request ' + uri + ' error ');\n         \n      }\n       \n      return of({code:-1,msg:'服务器故障',data:null})\n    \n      return throwError(\n        {\n          en: 'Something bad happened; please try again later.',\n          zh: '网络请求失败',\n        }[this.localId]\n      );/**/\n    };\n  }\n  // 开启轮询\n  pollingStart(random: string, domain?: string, isServer?: boolean) {\n    let options: any = {\n      observe: 'response',\n    };\n    return this.http\n      .get(\n        this.api.polling +\n          '?random=' +\n          random +\n          (domain ? '&' + domain : '') +\n          (isServer ? '&role=1' : ''),\n        options\n      )\n\n      .pipe(\n        tap(() => (this.reconnect = false)),\n        \n        catchError(\n          this.handleError('polling', () => {\n            this.pollingStart(random, domain, isServer);\n          })\n        )\n      );\n  }\n  // 图片预览\n  preview(file, callback) {\n    var reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (e) => {\n      callback(e.target.result);\n    };\n  }\n  // 视频预览\n  videoPreview(file, callback) {\n    var url = null;\n    try {\n      if (window.URL != undefined) {\n        // mozilla(firefox)\n        url = window.URL.createObjectURL(file);\n      } else if (window.webkitURL != undefined) {\n        // webkit or chrome\n        url = window.webkitURL.createObjectURL(file);\n      }\n      callback(url);\n    } catch (e) {\n      // 无法预览\n    }\n  }\n  // 上传文件\n  uploadFile(fileObj, callback, progressCallback?) {\n    const formData = new FormData();\n    formData.append('file', fileObj.file);\n    let api = 'https://io.imdraw.com:444';\n    const req = new HttpRequest('POST', api, formData, {\n      reportProgress: true,\n    });\n    this.http\n      .request(req)\n      .pipe(\n        catchError(\n          this.handleError('uploadFile', () => {\n            callback(fileObj, true);\n            this.showAlert(\n              { en: 'File Server Error', zh: '文件服务器故障!' }[this.localId]\n            );\n          })\n        )\n      )\n      .subscribe((event: any) => {\n        if (event.type === HttpEventType.UploadProgress) {\n          fileObj.uploadProgress = Math.round(\n            (100 * event.loaded) / event.total\n          );\n          progressCallback && progressCallback(fileObj);\n        } else if (event instanceof HttpResponse) {\n          let body: any = event.body;\n          fileObj.src = api + '/' + body.key;\n          fileObj.type === 'file' && (fileObj.src += '?operation=download');\n          callback(fileObj);\n        }\n      });\n  }\n\n  notifyAndUnreadPlus(d, chatUnread, cuUser?) {\n    cuUser && (cuUser.state = true);\n    let name = this.setName(d, cuUser, !!cuUser);\n    console.log('通知到位！',cuUser);\n    this.deskNotify(name, d.data);\n    this.setUnreadPlus(chatUnread, d, cuUser);\n  }\n\n  setName(d?, user?, isServer?) {\n    return isServer\n      ? user.name\n        ? user.name\n        : { en: 'User', zh: '游客' }[this.localId] + d.fid\n      : { en: 'Server Reply', zh: '客服回复' }[this.localId];\n  }\n\n  setUnreadPlus(chatUnread, msg, cuUser) {\n    chatUnread = chatUnread || {\n      unread: 0,\n      chatID: '',\n      id: [],\n    };\n\n    chatUnread.unread++;\n    !chatUnread.chatID && (chatUnread.chatID = 'chatList' + msg.id);\n    chatUnread.id?.push(msg.id);\n\n    cuUser &&\n      (cuUser.unreadOption = chatUnread) &&\n      this.updateUnreadStorage(cuUser.id, chatUnread);\n  }\n\n  updateUnreadStorage(id, unreadOption) {\n    let storage: any = window.localStorage.unread;\n    try {\n      storage = (storage && JSON.parse(storage)) || {};\n    } catch (e) {\n      storage = {};\n    }\n    storage[id] = unreadOption;\n    window.localStorage.unread = JSON.stringify(storage);\n  }\n\n  // 获取用户列表\n  getUserList(success) {\n    this.http\n      .get(this.api.userList)\n      .pipe(catchError(this.handleError('getUserList')))\n      .subscribe((res) => {\n        this.doHttpResponse(res, success,null,true);\n      });\n  }\n  getUserInfo(id, cb) {\n    this.http\n      .get(this.api.userInfo + id)\n      .pipe(catchError(this.handleError('getUserInfo')))\n      .subscribe((res: any) => {\n        this.doHttpResponse(res, cb,null,true);\n      });\n  }\n  login(data) {\n    this.http\n      .post(this.api.login, data)\n      .pipe(catchError(this.handleError('login')))\n      .subscribe((res) => {\n        this.doHttpResponse(res, () => {\n          this.showAlert(\n            { en: 'login Successful!', zh: '登录成功' }[this.localId]\n          );\n          this.isLogin = true;\n          // 登录成功跳转客服页面\n          setTimeout(() => {\n            this.router.navigate(['/server']);\n          }, 2000);\n        },null,true);\n      });\n  }\n  register(data) {\n    this.http\n      .post(this.api.register, data)\n      .pipe(catchError(this.handleError('register')))\n      .subscribe((res) => {\n        this.doHttpResponse(res, () => {\n          this.showAlert(\n            {\n              en: 'Register successfully, jump to login immediately',\n              zh: '注册成功，马上跳转登录',\n            }[this.localId]\n          );\n          setTimeout(() => {\n            this.router.navigate(['/auth/login']);\n          }, 2000);\n        });\n      });\n  }\n\n  logout() {\n    this.http\n      .post(this.api.logout, null)\n      .pipe(catchError(this.handleError('logout')))\n      .subscribe((res) => {\n        this.doHttpResponse(res, () => {\n          this.showAlert(\n            { en: 'Log out success !', zh: '登出成功!' }[this.localId]\n          );\n          setTimeout(() => {\n            this.router.navigate(['/auth/login']);\n          }, 2000);\n        },null,true);\n      });\n  }\n  getHistory(id) {\n    let options: any = {\n      observe: 'response',\n    };\n    return this.http\n      .get(this.api.history + (id ? '?id=' + id : ''), options)\n      .pipe(catchError(this.handleError('getHistory')));\n  }\n\n  notifyInstanceEvent(content, title) {\n    var instance = new Notification(title, {\n      body: content,\n      icon: '/assets/images/desk-logo.png',\n      tag: '1212212',\n      // sound:'/assets/sounds/msg.wav',\n      renotify: true,\n    });\n    instance.onclick = function (e) {\n      window.focus();\n      instance.close();\n      // 设置 当前用户的信息读取发送信息读取\n    };\n    instance.onerror = function () {};\n    \n    instance.onshow = function () {\n      try {\n        var msg = new Audio();\n        msg.src = '/assets/sounds/msg.wav';\n        msg.play();\n        console.log('播放声音');\n      } catch (e) {\n        console.log('声音哑了');\n      }\n    };\n    instance.onclose = function () {};\n  }\n  // 不兼容桌面通知时采用的延时计数器\n  timer: any;\n  deskNotify(title, msg) {\n    var Notification = window.Notification;\n    let div = document.createElement('div');\n    div.innerHTML = msg;\n    let content = '';\n    Array.from(div.childNodes).forEach((el: any) => {\n      let nodeType = el.nodeType;\n      if (nodeType === 1) {\n        // 元素节点\n        let id = el.id;\n        if (id.substring(0, 3) === 'img') {\n          content += { en: '[Image]', zh: '[图片]' }[this.localId];\n        } else if (id.substring(0, 4) === 'file') {\n          content +=\n            { en: '[File]', zh: '[文件]' }[this.localId] + el.innerText;\n        } else if (id.substring(0, 5) === 'video') {\n          content += { en: '[Video]', zh: '[视频]' }[this.localId];\n        } else {\n          content += el.innerText;\n        }\n      } else if (nodeType === 3) {\n        // 文本节点\n        content += el.textContent;\n      }\n    });\n    content = content.substring(0, 100) + (content.length > 100 ? '...' : '');\n    console.log('通知内容: ', content);\n\n    \n    if (Notification) {\n      //支持桌面通知\n      if (Notification.permission == 'granted') {\n        //已经允许通知\n        console.log('通知2');\n        this.notifyInstanceEvent(content, title);\n      } else {\n        //第一次询问或已经禁止通知(如果用户之前已经禁止显示通知，那么浏览器不会再次询问用户的意见，Notification.requestPermission()方法无效)\n        Notification.requestPermission((status) => {\n          if (status === 'granted') {\n            console.log('通知1');\n            this.notifyInstanceEvent(content, title);\n          } else {\n            //用户禁止\n            console.log('用户禁止通知');\n            this.showAlert('桌面通知被禁止，请在浏览器设置中允许通知');\n            return false;\n          }\n        });\n      }\n    } else {\n      console.log('不支持通知');\n      //不支持(IE等)\n      var index = 0;\n      clearInterval(this.timer);\n      this.timer = setInterval(function () {\n        let titleElem = document.getElementsByName('title')[0];\n        if (index % 2) {\n          titleElem.innerText = '【　　　】' + title; //这里是中文全角空格，其他不行\n        } else {\n          titleElem.innerText =\n            { en: '[new message]', zh: '【新消息】' }[this.localId] + title;\n        }\n        index++;\n\n        if (index > 20) {\n          clearInterval(this.timer);\n        }\n      }, 500);\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'toSafe'\n})\nexport class ToSafePipe implements PipeTransform {\n  constructor(\n    private _sanitizer: DomSanitizer\n  ) { }\n  // args={url,html,style,resourceUrl}\n  transform(value: any, args?: any): any {\n    args = args || 'url';\n    return  this._sanitizer['bypassSecurityTrust'+ args[0].toUpperCase()+args.slice(1)](value);\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-manage',\n  templateUrl: './manage.component.html',\n  styleUrls: ['./manage.component.css']\n})\nexport class ManageComponent implements OnInit {\n\n  constructor() { }\n  tabIndex :number = 0;\n  ngOnInit(): void {\n  }\n  changeTab(e){\n    console.dir(e.target)\n    let i  = Number(e.target.dataset.index);\n    !isNaN(i) && ( this.tabIndex = i);\n  }\n\n}\n","<div class=\"container clearfix\">\n    <div class=\"title bg-base noselect\" ondragstart=\"return false\" id=\"nameTitle\">\n        <img src=\"assets/images/logo.png\" class=\"vm\">\n        <span i18n=\"@@onlineServer\">在线客服</span>\n        <p class='fr name'>\n            <span><ng-container i18n>管理员</ng-container>01</span>\n            <span class=\"iconfont icon-true online\"></span>\n            <span class=\"state-txt\" i18n=\"@@online\">在线</span>\n        </p>\n    </div>\n    <!-- 内容区 -->\n    <div class=\"content clearfix\" id=\"contentBox\">\n\n        <!-- 左侧客户列表 -->\n        <div class=\"fl left ie-scroll other-scroll \">\n            <div class=\"menu\">\n                <span class=\"iconfont icon-menu\" id=\"menu\"></span>\n            </div>\n            <ul id=\"customers\" class=\"customers\" (click)=\"changeTab($event)\">\n                <li [class]=\"tabIndex===0?'active':''\" data-index=\"0\" i18n>客户管理</li>\n                <li data-index=\"1\" [class]=\"tabIndex===1?'active':''\" i18n>客服管理</li>\n                <li data-index=\"2\" [class]=\"tabIndex===2?'active':''\" i18n>聊天窗口</li>\n            </ul>\n\n        </div>\n\n\n        <!-- 右侧-->\n        <div class=\"fr right pos-r\" id=\"history\">\n\n            <h2 class=\"\"><span class=\"vm\" i18n=\"@@messages\">消息记录</span> <i\n                    class=\"iconfont text-base icon-close vm-before fr mr-1  csr\" id=\"lisi\"></i></h2>\n            <div class=\"history-content ie-scroll other-scroll\" >\n                <!-- 昨天有聊天的时间 hh:mm:ss 显示每条记录的时间客户 -->\n                <!-- 客户 \n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>-->\n                <!-- 客服 \n                <div class=\"dialog-r\">\n                    <p class=\"online\"><span>客服001</span> <span>12:34:15</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容</p>\n                </div>-->\n\n\n<!-- \n\n\n\n\n\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div>\n                <div class=\"dialog-r\">\n                    <p class=\"text-base\"><span>1345...4564</span> <span>12:34:12</span></p>\n                    <p class=\"ml-1\">聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容聊天内容</p>\n                </div> -->\n\n\n\n\n            </div>\n            <!-- 日历 -->\n            <div  >\n                <!-- 接入css -->\n                <div class=\"d-none pos-a calendar\" id=\"calendar\">\n                    <div id='schedule-box' class=\"boxshaw\">\n                    </div>\n                    <div>\n\n                    </div>\n                </div>\n                <div class=\"fixed-calendar boxshaw \" id=\"rili\">\n                    <span class=\"ml-1 csr\">\n                        <i class=\"iconfont icon-calendar text-base vm\" id=\"kanRili\"></i>\n                        <span id='riliTxt' class=\"vm\">2012-5-1</span>\n                    </span>\n\n                    <span class=\"history-op fr mr-1\">\n                        <i class=\"iconfont icon-left-stop bold\" title=\"第一页\"></i>\n                        <i class=\"iconfont icon-less-than\" title=\"上一页\"></i>\n                        <i class=\"iconfont icon-great-than\" title=\"下一页\"></i>\n                        <i class=\"iconfont icon-right-stop bold\" title=\"最后一页\"></i>\n                    </span>\n                </div>\n\n            </div>\n\n        </div>\n\n        <!-- 中/右侧聊天框 -->\n        <div class=\"center\" id=\"center\">\n            <!-- 客户管理 -->\n            <div class=\"customer-list ie-scroll other-scroll\" [class]=\"tabIndex===0?'':'d-none'\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th class=\"th-tag\"></th>\n                            <th i18n>访客姓名</th>\n                            <th i18n>访问次数</th>\n                            <th i18n>地区</th>\n                            <th class=\"d-sm-none\" i18n>停留时间</th>\n                            <th class=\"d-sm-none\" i18n>最后活动</th>\n                            <th i18n>IP地址</th>\n                            <th i18n>当前接待</th>\n                            <th i18n>操作</th>\n                        </tr>\n                    </thead>\n                    <tbody id=\"tbContent\">\n                        <tr>\n                            <td class=\"th-tag\"><span class=\"icon new\">新</span></td>\n                            <td>秦某某</td>\n                            <td>03</td>\n                            <td>河北省</td>\n                            <td class=\"d-sm-none\">00:00:37</td>\n                            <td class=\"d-sm-none\">00:00:37</td>\n                            <td>127.0.0.1</td>\n                            <td>客服01</td>\n                            <td class=\"pos-r\">\n                                <i class=\"iconfont icon-search\"></i>\n                                <ul class=\"pos-a search-menu\">\n                                    <li class=\"active\">聊天记录</li>\n                                    <li>历史轨迹</li>\n                                </ul>\n                            </td>\n                        </tr>\n\n                        <tr>\n                            <td class=\"th-tag\"><span class=\"icon new\">新</span></td>\n                            <td>秦某某</td>\n                            <td>03</td>\n                            <td>河北省</td>\n                            <td class=\"d-sm-none\">00:00:37</td>\n                            <td class=\"d-sm-none\">00:00:37</td>\n                            <td>127.0.0.1</td>\n                            <td>客服01</td>\n                            <td>\n                                <i class=\"iconfont icon-search\"></i>\n\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n\n                <!-- 页码 -->\n                <ul id=\"pagenation\" class=\"page\"></ul>\n            </div>\n\n            <!-- 客服管理 -->\n            <div class=\"customer-list server-manage ie-scrollother-scroll\" [class]=\"tabIndex===1?'':'d-none'\">\n                <h3  i18n>所有客服</h3>\n                <ul>\n                    \n                    <li >\n                        <div class=\"name-online\">\n                            <div class=\"d-inline-block\">\n                                <span class=\"icon-container d-inline-block\"><i class=\"iconfont icon-server\"></i></span>\n                                <span><ng-container i18n=\"@@server\">客服</ng-container>001</span>\n                            </div>\n                            <div class=\"online-info fr \">\n                                <span class=\"circle\"></span>\n                                <span i18n=\"@@online\">在线</span>\n                            </div>\n                           \n                        </div>\n\n                        <div>\n                            <div class=\"dialog-info d-inline-block\">\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\" i18n=\"@@cuDialog\">当前对话</span>\n                                    <span class=\"dialog-txt\">4</span>\n                                </div>\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\" i18n=\"@@totayDialog\">今日对话</span>\n                                    <span class=\"dialog-txt\">15</span>\n                                </div>\n                            </div>\n                             \n                                <button class=\"fr btn-dialog\" data-id=\"1\" i18n>对话记录</button>\n                           \n                        </div>\n                    </li>\n\n                    <li >\n                        <div class=\"name-online\">\n                            <div class=\"d-inline-block\">\n                                <span class=\"icon-container d-inline-block\"><i class=\"iconfont icon-server\"></i></span>\n                                <span>客服001</span>\n                            </div>\n                            <div class=\"online-info fr \">\n                                <span class=\"circle\"></span>\n                                <span>在线</span>\n                            </div>\n                           \n                        </div>\n\n                        <div>\n                            <div class=\"dialog-info d-inline-block\">\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\">当前对话</span>\n                                    <span class=\"dialog-txt\">4</span>\n                                </div>\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\">今日对话</span>\n                                    <span class=\"dialog-txt\">15</span>\n                                </div>\n                            </div>\n                             \n                                <button class=\"fr btn-dialog\"  data-id=\"2\">对话记录</button>\n                           \n                        </div>\n                    </li>\n\n                    <li >\n                        <div class=\"name-online\">\n                            <div class=\"d-inline-block\">\n                                <span class=\"icon-container d-inline-block\"><i class=\"iconfont icon-server\"></i></span>\n                                <span>客服001</span>\n                            </div>\n                            <div class=\"online-info fr \">\n                                <span class=\"circle\"></span>\n                                <span>在线</span>\n                            </div>\n                           \n                        </div>\n\n                        <div>\n                            <div class=\"dialog-info d-inline-block\">\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\">当前对话</span>\n                                    <span class=\"dialog-txt\">4</span>\n                                </div>\n                                <div class=\"text-right\">\n                                    <span class=\"fl mr-1\">今日对话</span>\n                                    <span class=\"dialog-txt\">15</span>\n                                </div>\n                            </div>\n                             \n                                <button class=\"fr btn-dialog\"  data-id=\"3\">对话记录</button>\n                           \n                        </div>\n                    </li>\n                </ul>\n                \n                 \n            </div>\n            <div class=\"customer-list ie-scroll other-scroll  \" [class]=\"tabIndex===2?'':'d-none'\">\n                <iframe  frameborder=0 style=\"width:100%;height:100%\"  src=\"http://localhost:4200/server?frame=1\"></iframe>\n            </div>\n\n        </div>\n\n    </div>\n\n</div>\n\n\n<div class=\"alert d-none\" id=\"alert\">错误提示</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { ComService } from '../core/com.service';\nimport * as Canlendar from '../../assets/js/calendar';\n\n@Component({\n  selector: 'app-server',\n  templateUrl: './server.component.html',\n  styleUrls: ['./server.component.css'],\n})\nexport class ServerComponent implements OnInit {\n  chatList: any = [];\n  isServer: boolean = true;\n  ws: any;\n  rid: any = 0;\n  // 当前用户\n  user: any;\n  // 用户列表\n  userList = [];\n  // 我的id\n  myID: number;\n  isShowRight:boolean = false;\n  rightShow: string = '';\n  chatElem: any;\n  stateMenuShow: boolean = false;\n  allHistory: any = [];\n  rightHistory: any[] = [];\n  // 文件列表\n  files: any = [];\n  // 当前添加的文件/图片\n  // 是否显示用户列表\n  isShowUserList: boolean = false;\n  // 历史记录日历显示\n  historyDate: string = '';\n  // isFrame 不显示标题行\n  isFrame: boolean = false;\n  // 是否显示月日历\n  isShowMonthCalendar: boolean = false;\n   \n  constructor(private com: ComService, private route: ActivatedRoute) {}\n\n  ngOnInit(): void {\n    this.historyDate = this.com.formatTime('', 'YYYY-MM-DD');\n    this.initCalendar();\n    window.location.search.indexOf('frame=1') > -1 && (this.isFrame = true);\n\n    this.com.getUserList((data) => {\n      if (data && data.length) {\n        // 设置未读数量\n        let storage = window.localStorage.unread;\n        try {\n          storage = JSON.parse(storage) || {};\n        } catch (e) {\n          storage = {};\n        }\n        data.forEach((d) => {\n          // 5s不回应默认已掉线\n          storage[d.id] && (d.unreadOption = storage[d.id]);\n          d.state = Date.now() - d.note_at / 1000000 < 5000;\n        });\n        this.userList = data;\n        this.changeUser(0);\n      }\n    });\n  }\n\n  userListChange(receiveData) {\n    const { data,chatUnread,state } = receiveData;\n    \n    const fid = data.fid;\n    let userIndex = this.userList.findIndex((u) => u.id === fid );\n    if(state === 0){\n      let isInUserList = userIndex > -1;\n      if (!isInUserList) {\n        this.com.getUserInfo(fid, (userInfo) => {\n                this.com.notifyAndUnreadPlus(  data, chatUnread,userInfo);\n                this.userList.unshift(userInfo);\n                // this.userList = [userInfo ,...this.userList]\n                if(!this.user){\n                  this.changeUser(0);\n                }\n                \n        });\n      }else{\n        this.com.notifyAndUnreadPlus(data,chatUnread,this.userList[userIndex])\n      }    \n    }else if (state === 3){\n      userIndex > -1 && (this.userList[userIndex].state = data.data === 'online');\n    }\n  }\n  clickImg(e) {\n    if (e.target.tagName.toLowerCase() === 'img') {\n      this.com.previewOption.isShowMask = true;\n      this.com.previewOption.src = e.target.src;\n    }\n  }\n  initCalendar() {\n    let callback = (y, m, d) => {\n      this.historyDate = this.com.formatTime(\n        y + '-' + m + '-' + d,\n        'YYYY-MM-DD'\n      );\n    };\n    new Canlendar({\n      el: '#schedule-box',\n      clickCb: callback,\n      nextMonthCb: callback,\n      nextYeayCb: callback,\n      prevMonthCb: callback,\n      prevYearCb: callback,\n      lang: this.com.localId,\n    });\n  }\n  keepEnd: boolean = false;\n  fileEmiter(e) {\n    this.keepEnd = !this.keepEnd;\n  }\n  // 历史记录按日期分离\n  getSpecialHistory(date) {\n    if (this.allHistory.length) {\n      this.rightHistory = this.allHistory.filter((el) => {\n        return el.timeFormat.indexOf(date) > -1;\n      });\n      this.isShowMonthCalendar = false;\n    }\n  }\n  showUserList(e) {\n    e.stopPropagation();\n    this.isShowUserList = !this.isShowUserList;\n  }\n  // 左侧切换用户\n  changeUser(i) {\n    this.user = this.userList[i];\n    this.getHistory();\n  }\n  historyData:any = {data:[]};\n  containerClick(e){    \n    let id = e.target.id;     \n    if(id === 'historyIcon'){\n      this.isShowRight = true;\n      this.getHistory();       \n    }\n    this.isShowUserList = false;\n  }\n  showRightHistory(data){\n    // 显示右侧信息\n    this.rightShow = 'right-show';\n    this.rightHistory = data;\n    this.allHistory = data;\n  }\n  getHistory() {\n    this.com.getHistory( this.user.id)\n    .subscribe((res: any) => {\n     if (!this.myID) {\n       this.myID = Number(res.headers.get('Uid'));\n     }\n     let ret = res.body;\n     this.com.doHttpResponse(ret, (data) => {\n       // this.com.doHistory(data );\n       this.historyData = {uid:this.myID,data};       \n       this.isShowRight && this.showRightHistory(data)\n     },null,true);\n   });\n  }\n   \n\n  catchTab(e, callback) {\n    callback && callback();\n    e.stopPropagation();\n  }\n\n  hideShowing() {\n    this.stateMenuShow = false;\n    this.isShowUserList = false;\n    this.isShowMonthCalendar = false;\n  }\n  imgSrc: string = '';\n\n  rightHitoryShow(toggle) {\n    if (!toggle) {\n     this.getHistory();\n      \n    } else {\n      this.closeHistory();\n    }\n  }\n  closeHistory() {\n    this.rightHistory = [];\n    this.rightShow = '';\n  }\n  showMonthCalendar() {\n    this.isShowMonthCalendar = !this.isShowMonthCalendar;\n  }\n  chooseDateConfirm() {\n    this.getSpecialHistory(this.historyDate);\n  }\n}\n","<div class=\"container clearfix\" (click)=\"containerClick($event)\">\n <app-header [show]=\"!isFrame\" [isServer]=\"true\" [myID]=\"myID\"></app-header>\n  <!-- 内容区 -->\n  <div class=\"content clearfix\" [style]=\"{height:isFrame?'100%':'calc(100% - 53px)'}\" [class]=\"rightShow\">\n\n    <!-- 左侧客户列表 -->\n    <div class=\"fl left ie-scroll other-scroll text-center \" [class]=\"isShowUserList?'pos-r':''\" >\n      <div class=\"menu \" (click)=\"showUserList($event);\">\n        <span class=\"iconfont icon-menu\" id=\"menu\"></span>\n      </div>\n      <div id=\"customers\" class=\"customers w-100 h-100 ie-scroll other-scroll \" [class]=\"isShowUserList?'show-list':''\">\n        <table class=\"user-list\" >\n          <tr [class]=\"user.id===u.id?'active':''\" *ngFor=\"let u of userList ;let i = index\" (click)=\"changeUser(i);\">\n            <td><span class=\"icon\" [class]=\"u.state?'new':'old'\" [title]=\"(u.state?{en:'online',zh:'在线'}[com.localId]:{en:'offline',zh:'离线'}[com.localId])\"   >{{u.state?{en:'on',zh:'在'}[com.localId]:{en:'off',zh:'离'}[com.localId]}}</span></td>\n            <td>{{u.name||{en:'User ',zh:'游客'}[com.localId]+u.id}}</td>\n            <td class=\"pos-r\"  >{{u.mall||{en:'Unknow',zh:'未知来源'}[com.localId] }}<span *ngIf=\"u.unreadOption?.unread\" class=\"unread-label pos-a\">{{u.unreadOption?.unread}}</span></td>\n          </tr>\n          <!-- <tr>\n                        <td><span class=\"icon new\">新</span></td>\n                        <td>15176367173</td>\n                        <td>广西桂林</td>\n                    </tr> -->\n          <tr *ngIf=\"!userList.length\">\n            <td colspan=\"3\" i18n=\"@@noUser\">没有客户访问</td>\n          </tr>\n        </table>\n      </div>\n\n    </div>\n\n\n    <!-- -->\n    <div class=\"fr right\" id=\"history\">\n\n      <h2 class=\"\">\n        <span class=\"vm\" i18n=\"@@messages\">消息记录</span>\n        <i class=\"iconfont text-base icon-close vm-before fr mr-1  csr\" id=\"lisi\" (click)=\"closeHistory()\"></i>\n      </h2>\n      <div class=\"history-content ie-scroll other-scroll\">\n        <!-- 昨天有聊天的时间 hh:mm:ss 显示每条记录的时间客户 -->\n        <!-- 客户 -->\n        <div class=\"dialog-r\" *ngFor=\"let h of rightHistory\" (click)=\"clickImg($event)\">\n          <p [class]=\"h.isServer?'online':'text-base' \">\n            <span >{{h.isServer?{en:'Server',zh:'客服'}[com.localId]+h.fid:h.name||{en:'User',zh:'游客'}[com.localId]+h.fid}}</span>\n            <span class=\"ml-1\">{{h.timeFormat}}</span>\n          </p>\n          <p class=\"ml-1\" [innerHTML]=\"h.data\"> </p>\n        </div>\n        <div class=\"dialog-r\" *ngIf=\"!rightHistory.length\" i18n=\"@@noHistory\">没有历史记录</div>\n      </div>\n      <!-- 日历 -->\n      <div class=\"pos-r\">\n        <!-- 接入css -->\n        <div class=\" pos-a calendar\" [class]=\"isShowMonthCalendar?'':'d-none'\">\n          <div id='schedule-box' class=\"boxshaw\">\n          </div>\n          <div>\n\n          </div>\n        </div>\n        <div class=\"fixed-calendar boxshaw \" id=\"rili\">\n          <span class=\"ml-1 csr\" (click)=\"showMonthCalendar();\">\n            <i class=\"iconfont icon-calendar text-base vm\" id=\"kanRili\"></i>\n            <span id='riliTxt' class=\"vm\">{{historyDate}}</span>\n          </span>\n\n          <!-- <span class=\"history-op fr mr-1\" *ngIf=\"!isShowMonthCalendar\">\n            <i class=\"iconfont icon-left-stop bold\" title=\"上个月\"></i>\n            <i class=\"iconfont icon-less-than\" title=\"前一天\"></i>\n            <i class=\"iconfont icon-great-than\" title=\"下一天\"></i>\n            <i class=\"iconfont icon-right-stop bold\" title=\"下个月\"></i>\n          </span> -->\n          <button *ngIf=\"isShowMonthCalendar\" class=\"confirm-btn fr\" (click)=\" getSpecialHistory( historyDate); \" i18n> 确定\n          </button>\n        </div>\n\n      </div>\n\n    </div>\n\n    <!-- 中/右侧聊天框 -->\n    <div class=\"center pos-r\" id=\"center\">\n      <div class=\"user-info pos-a\" *ngIf=\"user\">\n        \n        <ul class=\"box\">\n          <li class=\"item\">\n            <i class=\"ml-1 iconfont icon-user text-lighter-base vm\" id=\"userIcon\"></i>\n            <span id=\"userName\"  >&nbsp;{{user.name|| {en:'User',zh:'游客'}[com.localId]+user.id}}</span>\n          </li>\n          <li *ngIf=\"user.email\" class=\"item\">\n            <span><b>{{user.email}}</b></span>\n          </li>\n          <li *ngIf=\"user.ip\" class=\"d-480-none item\">\n            <span><b>{{user.ip}}</b></span>\n          </li>\n          <li *ngIf=\"user.domain\" class=\"d-768-none item\">\n            <span ><ng-container i18n>访问页面</ng-container>:<b>{{user.domain}}</b></span>\n          </li>\n          <li *ngIf=\"user.mall\" class=\"item\">\n            <span ><ng-container i18n>来源</ng-container>:<b class=\"mr-1\" [title]=\"user.domain\">{{user.mall}}</b></span>\n          </li>\n        </ul>\n      </div>\n      <chat-dailog [isServer]=\"true\" [historyData]=\"historyData\"  [noUser]=\"!userList.length\" [cuUser]=\"user\" \n      (userListChange)=\"userListChange($event)\" ></chat-dailog>\n    </div>\n  </div>\n</div>\n\n\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport { ComService } from 'src/app/core/com.service';\n\n@Component({\n  selector: 'chat-dailog',\n  templateUrl: './chat-dailog.component.html',\n  styleUrls: ['./chat-dailog.component.css'],\n})\nexport class ChatDailogComponent implements OnInit {\n  @Input() isServer: boolean;\n  @Input() noUser: boolean;\n  @Input() cuUser: any;\n  @Input() historyData: boolean;\n\n  @Output() unreadChange = new EventEmitter();\n  @Output() userListChange = new EventEmitter();\n\n  chatList: any = [];\n  myID: any;\n  history: any = [];\n  chatUnread: any = {};\n  chatElem: any;\n  isWindowActive: boolean = false;\n\n  constructor(public com: ComService) {}\n\n  ngOnInit(): void {\n    let search = window.location.search.substring(1);\n    let random = Date.now().toString();\n    this.chatElem = document.getElementById('chat');\n    this.pollingStart(random, search);\n    this.windowActive();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    \n    const history = changes.historyData;\n    if (history && history.currentValue !== history.previousValue) {\n      this.chatUnread = { id: [], unread: 0 };\n      \n      this.doHistory(history.currentValue.data, history.currentValue.uid);\n    }\n  }\n\n  windowActive() {\n    window.onblur = () => {\n      this.isWindowActive = false;\n      \n    };\n    window.onfocus = () => {\n      // 激活窗口- 重置未读消息-设置已读消息\n      this.isWindowActive = true;\n      this.changeUnread();\n      // this.setISendReaded();      \n    };\n  }\n  // 未读信息变更\n  changeUnread() {\n    for (let i = 0; i < this.com.IReceived.length; i++) {\n      let el = this.com.IReceived[i];\n      let msg: any = { id: el.id, type: 1 };\n      this.isServer && (msg.rid = this.cuUser.id);      \n      if (this.isInView('chatList' + el.id)) {\n        this.com.IReceived.splice(i,1)\n        this.com.sendMsg(msg,null,null,this.isServer);\n        i--;        \n      } else {        \n        break;\n      }\n    }\n    this.chatUnread.unread = this.com.IReceived.length;\n  }\n  retryTimes = 0;\n  pollingStart(random, search) {\n     \n    var t = null;\n    this.com.subscriber = this.com\n      .pollingStart(random, search, this.isServer)\n      .subscribe((res: any) => {    \n        try{   \n        if (!this.myID) {\n          this.myID = Number(res.headers.get('Uid'));\n        }\n        // 新建立的连接，要渲染历史记录\n        let isNewConnect = res.headers.get('Request-Times') === '1';\n        let ret = res.body;\n\n        this.com.doHttpResponse(ret, (data) => {\n          if (isNewConnect) {\n            if (!this.isServer) {\n              // 客户端处理历史记录\n              data && data.length && this.doHistory(data);\n            }\n          } else {\n            // 渲染数据到聊天窗口\n            data && data.length && this.doPolling(data);\n          }\n        },null,this.isServer );\n\n        // 获取到数据-直接轮询      \n        this.pollingStart(random, search);\n      }catch(e){\n        clearTimeout(t);\n        if(res?.msg){\n          this.com.showAlert(res.msg)\n        }\n        t= setTimeout(()=>{\n        this.pollingStart(random, search);},2000);\n      }\n          // this.com.isLogin && this.pollingStart(random, search);\n          // this.retryTimes ++;\n      });\n  }\n\n  doHistory(data, uid?) {\n    uid && (this.myID = uid);\n    this.com.IReceived = [];\n    this.com.ISend = [];\n    this.attachSPTWidthArr(data);\n    this.chatList = data;\n    this.jumpToChatBottom();\n    this.history = data;\n    this.setReadInfo(data);\n    this.clearUnreadMsg();\n  }\n  tmpTime = '';\n  attachSPT(d) {\n    const isServer = this.isServer;\n    let isIsend = d.fid === this.myID;\n    let isSysMsg = d.fid === 0;\n\n    d.isServer = isSysMsg ? true : isServer ? isIsend : !isIsend;\n    d.position = isServer ? (isSysMsg ? false : !isIsend) : !isIsend;\n    let fromNowTime = this.com.timeFromNow(d.time / 1000000);\n    d.timeStr = this.tmpTime === fromNowTime ? '' : fromNowTime;\n    this.tmpTime !== fromNowTime && (this.tmpTime = fromNowTime);\n    d.timeFormat = this.com.formatTime(d.time / 1000000, 'YYYY-MM-DD hh:mm:ss');\n  }\n  attachSPTWidthArr(data) {\n    data.forEach((d) => {\n      this.attachSPT(d);\n    });\n  }\n  // 聊天窗口滚动到底部-清除未读-向下滚动\n  scrollTop = 0;\n  scrollToBottom(e) {\n    setTimeout(() => {\n      const chatWin = e.target;\n      if (this.scrollTop < chatWin.scrollTop) {\n        // 滑动变更未读消息显示\n        this.changeUnread();\n        if (\n          chatWin.scrollTop + chatWin.offsetHeight + 10 >=\n          chatWin.scrollHeight\n        ) {\n          // 到底部了-置空unread\n          this.clearUnreadMsg();\n        }\n      }\n      this.scrollTop = chatWin.scrollTop\n    }, 1000);\n  }\n\n  // 设置历史消息已读和未读\n  setReadInfo(data) {\n    let len = data.length;\n    this.chatUnread = { unread: 0, id: [] };\n    let rightMsgReaded = false;\n    let rightStopIndex = -1;\n    let leftMsgReaded = false;\n    let leftStopIndex = -1;\n    for (let i = len; i--; ) {\n      let d = data[i];\n      let isDbReaders = d.readers.split(',').length > 1;\n      let isIsend = d.fid === this.myID;\n      let isSysMsg = d.fid === 0;\n      // 客服端自己发的消息== 系统消息和自己发的消息\n      this.isServer && (isIsend = isSysMsg || isIsend);\n      if (isIsend) {\n        leftMsgReaded = true;\n        leftStopIndex = i;\n        if (isDbReaders) {\n          // 有两读者，我发的消息都读了\n          rightMsgReaded = true;\n          // 停止判断\n          rightStopIndex = i;\n          break;\n        } else {\n          // 我的消息对方未读，读者只有一个\n          d.readed = rightMsgReaded;\n          // 判读下一个\n        }\n      } else {\n        // 我的消息它都读了-判断他的消息我读没读\n        rightMsgReaded = true;\n        rightStopIndex = i;\n\n        if (isDbReaders) {\n          // 有两读者\n          leftMsgReaded = true;\n          leftStopIndex = i;\n          break;\n        } else {\n          // 对方这条消息我没读，看下一个\n          if (!leftMsgReaded) {\n            this.chatUnread.unread++;\n            this.chatUnread.id.push(d.id);\n          }\n\n          !this.chatUnread.chatID &&\n            (this.chatUnread.chatID = 'chatList' + d.id);\n        }\n      }\n      if (rightMsgReaded && leftMsgReaded) break;\n    }\n\n    // 设置我的消息对方已读\n    if (rightMsgReaded && rightStopIndex > -1) {\n      for (let i = rightStopIndex + 1; i--; ) {\n        data[i].readed = true;\n      }\n      for (let i = rightStopIndex + 1; i < data.length; i++) {\n        data[i].fid === this.myID &&\n          (this.com.ISend[this.com.ISend.length] = i);\n      }\n    }\n\n    if (leftMsgReaded && leftStopIndex > -1) {\n      for (let i = leftStopIndex + 1; i < data.length; i++) {\n        data[i].fid !== this.myID &&\n          (this.com.IReceived[this.com.IReceived.length] = data[i]);\n      }\n    }\n    \n  }\n\n  // 是否在可视区\n  isInView(id) {\n    let nowAt = document.getElementById(id);\n    if (nowAt) {\n      let f = nowAt.offsetTop;\n      let h = nowAt.offsetHeight;\n      let h1 = this.chatElem.clientHeight;\n      let t = this.chatElem.scrollTop;\n      return f > t && f + h < t + h1;\n    }\n    return false;\n  }\n  // 清空消息\n  clearUnreadMsg() {\n    // 清0消息\n    this.chatUnread = { unread: 0, id: [], chatID: '' };\n    if (this.isServer) {\n      this.cuUser &&\n        this.cuUser.id &&\n        (this.cuUser.unreadOption = { unread: 0, id: [], chatID: '' }) &&\n        this.com.updateUnreadStorage(this.cuUser.id, {\n          unread: 0,\n          id: [],\n          chatID: '',\n        });\n    }\n  }\n\n  // 点击未读跳转到底部清空未读显示\n  readIt() {\n    this.jumpToChatBottom();\n    this.chatUnread = { unread: 0, id: [] };\n    this.isServer &&\n      this.com.updateUnreadStorage(this.cuUser.id, this.chatUnread);\n    this.setIReceivedReaded();\n    this.setISendReaded();\n  }\n\n  doPolling(data) {\n    data.forEach((d) => {\n      let fid = d.fid;\n      let isISend = fid === this.myID;\n      let type = d.type;\n      switch (type) {\n        // 普通消息\n        case 0:\n          this.doType0(isISend, d);\n          break;\n        // 已读未读消息\n        case 1:\n          this.doType1(d, isISend);\n          break;\n        case 2:\n          this.doType2(d, isISend);\n          break;\n        // 上下线消息\n        case 3:\n          this.doType3(isISend, d);\n          break;\n      }\n    });\n  }\n  // 处理已读未读消息\n  doType1(d, isISend) {\n    // 已读未读消息\n    if (!isISend) {\n      if (this.isServer) {\n        // 服务端\n        // 发来的是自己吗-是的话就不用改变-不是就要判断\n        if (!isISend) {\n          // 判断发来的是当前用户吗\n          let isCuUserSend = this.cuUser.id === d.fid;\n          if (isCuUserSend) {\n            // 当前用户发来的设置已读\n            let i = this.chatList.findIndex((x) => x.id === d.id);\n            // i > -1 && (this.chatList[i].readed = true)\n            if (i > -1) {\n              for (let j = i; j >= 0; j--) {\n                this.chatList[j].readed = true;\n              }\n            }\n          }\n        }\n      } else {\n        // 客户端\n        let i = this.chatList.findIndex((x) => x.id === d.id);\n        // i > -1 && (this.chatList[i].readed = true);\n        if (i > -1) {\n          for (let j = i; j >= 0; j--) {\n            this.chatList[j].readed = true;\n          }\n        }\n      }\n    }\n  }\n  //  处理特殊消息\n  doType2(d, isISend) {\n    // 下线消息\n    if (!isISend) {\n      if (d.data === 'offline') {\n        let who = this.com.setName(\n          d,\n          this.isServer ? this.cuUser : null,\n          this.isServer\n        );\n        this.com.showAlert(\n          who + { en: 'offline', zh: '下线' }[this.com.localId]\n        );\n        if (this.isServer) {\n          let i = this.chatList.findIndex((x) => x.id === d.fid);\n          i > -1 && (this.chatList[i].state = false);\n        }\n      }\n    }\n  }\n  // 处理上下线消息\n  doType3(isISend, d) {\n    isISend &&\n      this.com.showAlert(\n        {\n          en: 'User ' + d.fid + 'is ' + d.data,\n          zh: '游客' + d.fid + (d.data === 'online' ? '上' : '离') + '线',\n        }[this.com.localId]\n      );\n    // 客服端 处理一下用户列表用户上下线显示\n    if (this.isServer) {\n      this.userListChange.emit({ state: 3, data: d });\n    }\n  }\n\n  doType0(isISend, d) {\n    let fid = d.fid;\n    const isServer = this.isServer;\n    // 如果this.cuUser不存在时直接是true，且要请求用户信息\n    let isCuUserSend = isServer ? this.cuUser && this.cuUser.id === fid : !isISend;\n    // 设置消息的左右显示\n    this.attachSPT(d);\n    if (isISend) {\n      this.msgAssgin(d);\n      if (this.isWindowActive) {\n        this.setIReceivedReaded();\n      }\n    } else {\n      if (isCuUserSend) {\n        this.com.IReceived.push(d);\n        \n        this.chatList.push(d);\n        if (this.isWindowActive) {\n          this.jumpToChatBottom();\n          this.setIReceivedReaded();\n          this.setISendReaded();\n        } else {\n          \n          this.com.notifyAndUnreadPlus(d, this.chatUnread, this.cuUser);\n        }\n      } else {\n        let unread = window.localStorage.unread;\n        unread = unread ? JSON.parse(unread) : {};\n        this.chatUnread = { id: [], unread: 0 };\n        \n        this.userListChange.emit({\n          state: 0,\n          chatUnread:unread[d.fid] || { id: [], unread: 0 },\n          data: d,\n        });\n      }\n    }\n  }\n\n  setIReceivedReaded() {\n    this.com.IReceived.forEach((el) => {\n      let msg: any = { id: el.id, type: 1 };\n      this.isServer && (msg.rid = this.cuUser.id);\n      this.com.sendMsg(msg,null,null,this.isServer);\n    });\n  }\n\n  // 接收到我发的消息，直接融合我的消息\n  msgAssgin(d) {\n    let i = this.chatList.findIndex((x) => x.mark === d.mark);\n    i === -1 ? this.chatList.push(d) : Object.assign(this.chatList[i], d);\n    this.com.ISend.push(i === -1 ? this.chatList.length : i);\n  }\n  // 设置我发送的消息为已读\n  setISendReaded() {\n    this.com.ISend.forEach((el) => {\n      this.chatList[el].readed = true;\n    });\n    this.com.ISend = [];\n  }\n\n  sendListen(content) {\n    content.isServer = this.isServer;\n    content.position = false;\n    this.chatList.push(content);\n  }\n\n  chatListChange(msg) {\n    const { send, content } = msg;\n    if (send === 0) {\n      //未发送时直接push到列表\n      this.chatList.push(content);\n      this.isServer && (content.rid = this.cuUser.id);\n    } else {\n      // 发送失败\n      let i = this.chatList.findIndex((x) => x.mark === content.mark);\n      i > -1 && (this.chatList[i].isUploaded = send);\n    }\n    this.jumpToChatBottom();\n  }\n\n  jumpToChatBottom() {\n    setTimeout(() => {\n      this.chatElem.scrollTop = this.chatElem.scrollHeight;\n    }, 1000);\n  }\n}\n","<div class=\"content pos-r\" [style]=\"{height:isServer?'100%':'calc(100% - 53px)'}\">\n\n    <div class=\"chat ie-scroll  other-scroll\" id='chat' (scroll)=\"scrollToBottom($event)\" >\n      <div class=\"chat-details \">\n        <chat-content [chatList]=\"chatList\" (sendListen)=\"sendListen($event)\"></chat-content>\n        <a [href]=\"'/client#'+chatUnread.chatID\" *ngIf=\"chatUnread?.chatID\" id=\"linkToChatID\">占位</a>        \n        <div class=\"chat-unread pos-a\" (click)=\"readIt()\" *ngIf=\"chatUnread.unread\"><ng-container i18n>未读</ng-container>{{chatUnread?.unread}}</div>\n      </div>\n    </div>\n    <div class=\"edit-area\" id=\"edit\">   \n      <send-area   [isServer] = \"isServer\" [noUser]=\"noUser\" (chatListChange)=\"chatListChange($event)\"></send-area>\n    </div>\n  </div>","import { Component, Input, OnInit, SimpleChanges } from '@angular/core';\nimport { ComService } from 'src/app/core/com.service';\n \n@Component({\n  selector: 'chat-content',\n  templateUrl: './chat-content.component.html',\n  styleUrls: ['./chat-content.component.css']\n})\n\nexport class ChatContentComponent implements OnInit {\n  @Input() chatList;\n  constructor(\n    private com:ComService\n  ) { }\n\n  ngOnInit(): void {\n  }\n  \n  clickImg(e){\n    if(e.target.tagName.toLowerCase()==='img'){\n      // 图片点击要放大图片\n      this.com.previewOption.src = e.target.src;\n      this.com.previewOption.isShowMask = true;\n    }\n  }\n}\n","<div *ngFor=\"let c of chatList\" [id]=\"'chatList'+c.id\">\n  <!-- 时间 -->\n  <p class=\"time\" *ngIf=\"c.timeStr\">{{c.timeStr}}</p>\n  <p class=\"dialog\" [class]=\"c.position?'':'text-right'\">\n    <!-- 自己发送的发送失败显示发送失败 -->\n    <span class=\"uploaded error mr-10\" title=\"发送失败!\" i18n-title=\"@@sendFail\" *ngIf=\"!c.position && c.isUploaded===-1\"><span class=\"iconfont icon-error\"></span></span>\n     <!-- 左侧发过来的信息显示发送成功，已读未读   -->\n    <span class=\"uploaded success mr-10\"  [title]=\"c.readed?'对方已读':'对方未读'\" i18n-title=\"readOrNot\" *ngIf=\"!c.position && c.isUploaded!==-1\"><span class=\"read-circle\" [class]=\"c.readed?'readed':'unread'\"></span></span>\n    <!-- 左边头像 *ngIf=\"c.isUploaded===-1\"-->\n    <span class=\"iconfont text-lighter-base vb-before mr-1\" [class]=\"c.isServer?'icon-server':'icon-user'\"\n      *ngIf=\"c.position\"></span>\n    <span class=\"chat-content  bg-light-base  pos-r\" [class]=\"c.position?'tleft':'tright  mr-1 text-left'\">\n      <!-- 图片或文件显示 -->\n      <span [class]=\"c.position?'chat-content-txt text-left client-content':'' \" *ngIf=\"c.type\">\n        <img [src]=\"c.webSrc || c.src\" *ngIf=\"c.msgType==='img'\" />\n        <i class=\"iconfont \" [class]=\"'icon-'+c.fileType\" *ngIf=\"c.msgType==='file'\"></i>\n        <a class=\"file-name\" [href]=\"c.webSrc||'javascript:;'\" *ngIf=\"c.msgType==='file'\">{{c.name}}</a>\n        <span *ngIf=\"c.uploadProgress > 0 && c.uploadProgress < 100\">\n          <ng-container i18n>上传中</ng-container>：{{c.uploadProgress}}%\n        </span>        \n      </span>\n      <!-- 纯文本|data是html -->\n      <span class=\"chat-content-txt text-left client-content \" *ngIf=\"!c.msgType\"\n        [innerHTML]=\"c.data | toSafe:'html'\" (click)=\"clickImg($event)\"></span>\n      \n    </span>\n   \n    <!-- 右边头像 -->\n    <span class=\"iconfont text-lighter-base vb-before \" *ngIf=\"!c.position\"\n      [class]=\"c.isServer?'icon-server':'icon-user'\"></span>\n  </p>\n\n</div>\n\n","import { Component, EventEmitter, Input, OnInit, Output, SimpleChanges } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ComService } from 'src/app/core/com.service';\n\n@Component({\n  selector: 'send-area',\n  templateUrl: './send-area.component.html',\n  styleUrls: ['./send-area.component.css'],\n})\nexport class SendAreaComponent implements OnInit {\n  @Input() isServer: boolean;\n  @Input() noUser: boolean;\n\n  @Output() chatListChange = new EventEmitter()\n \n  target = null;\n  showPlaceHolder = true;\n  editText: string = '';\n  files: any = [];\n\n  constructor(public com: ComService, private _sanitizer: DomSanitizer) {}\n\n  ngOnInit(): void {\n    this.target = document.getElementById('editDiv');\n    this.setEditDivUsable();\n  }\n  ngOnChanges(changes: SimpleChanges): void {    \n    this.target && changes.noUser.currentValue !== changes.noUser.previousValue &&\n      this.setEditDivUsable();\n  }\n\n  getFileObj(file) {\n    /* ===region== 允许的文件类型\n    .doc application/msword\n    .docx application/vnd.openxmlformats-officedocument.wordprocessingml.document\n    .xls application/vnd.ms-excel\n    .xlsx  application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\n    .ppt application/vnd.ms-powerpoint\n    .pptx application/vnd.openxmlformats-officedocument.presentationml.presentation\n    .pdf application/pdf\n    .zip application/zip, application/octet-stream, application/x-zip-compressed, multipart/x-zip\n    .rar application/x-rar-compressed, application/octet-stream\n    .gz application/x-gzip\n    .txt 'text/plain'\n    视频.avi \tvideo/x-msvideo\n    .wav audio/x-wav\n    .mp4 video/mp4*/\n  \n    const permitFileType = [\n      'application/zip', //0-zip\n      'application/octet-stream',//1-zip\n      'application/x-zip-compressed',//2-zip\n      'multipart/x-zip',//3-zip\n      'application/x-rar-compressed',//4-zip\n      'application/x-gzip',//5-zip\n      'application/msword',//6-doc\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',//7-doc\n      'application/vnd.ms-excel',//8-xls\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',//9-xls\n      'application/vnd.ms-powerpoint',//10-ppt\n      'application/vnd.openxmlformats-officedocument.presentationml.presentation',//11-ppt\n      'application/pdf',//12-pdf\n      'text/plain',//13-txt\n    ];\n\n    const videoType = ['video/x-msvideo', 'video/mp4','video/quicktime'];\n    const type = file.type;\n    \n    \n    let obj = null;\n    let i =  permitFileType.indexOf(type);\n    if(i>-1){\n      obj = { type: 'file', fid: 'file' + Date.now(),name:file.name, file ,fileType:i<5?'zip':i<8?'doc':i<10?'xls':i<12?'ppt':i===12?'pdf':'txt'}\n    } else if(videoType.indexOf(type) > -1){\n      obj = { type: 'video', fid: 'video' + Date.now(), file }\n    }\n    return obj;\n  }\n\n  getFile(e) {\n    let file = e.target.files[0];\n    // 文件大小判断\n    const size = file.size;\n    let obj = null;\n    if(size > 10485760){\n      // 文件超过10M\n      this.com.showAlert({en:'Picture / video / file size cannot exceed 10MB',zh:'图片/视频/文件大小不能超过10MB'}[this.com.localId]);\n      return;\n    }\n    // 格式判断\n    if (file.type.indexOf('image') > -1) {\n      // 是图片\n      this.com.preview(file, (src) => {\n         obj = { type: 'img', fid: 'img' + Date.now(), src, file };\n        this.files.push(obj);\n        this.newFileNode(obj)\n      });\n    } else if (obj = this.getFileObj(file)) {\n      this.files.push(obj);  \n      this.newFileNode(obj)    \n    } else {\n      this.com.showAlert(\n        {\n          en: 'This picture / video / file format is not supported',\n          zh: '不支持此图片/视频/文件格式',\n        }[this.com.localId]\n      );\n    }\n    e.target.value = '';\n  }\n\n\n\n  newFileNode(file) {\n    \n    if (file) {\n      const fileType = file.type;\n      let span: any = document.createElement('span');\n      span.id = file.fid;\n      span.contentEditable = false;\n      span.className = 'd-inline-block';\n      fileType === 'file' && (span.className += ' file-box');\n      if (fileType === 'img') {\n        let img: any = document.createElement('img');\n        img.src = file.src;\n        img.onerror = \"this.src='/assets/images/error.jpg'\";\n        span.appendChild(img);\n      } else if(fileType==='file'){\n        let icon = document.createElement('i');\n        icon.className = 'iconfont icon-' + file.fileType;\n        span.appendChild(icon);\n        let link = document.createElement('a');\n        link.href = file.src;\n        link.textContent = file.name;\n        link.className = 'file-name';\n        span.appendChild(link);\n      }else if(fileType ==='video'){\n        let video:any = document.createElement('video');\n        video.setAttribute('controls','controls');\n        video.style=\"width:250px;height:250px;\"\n        this.com.videoPreview(file.file,(url)=>{\n          video.src = url;\n        })\n        span.appendChild(video)\n      }\n      this.target.appendChild(span);\n      this.keepLastIndex(this.target);\n    }\n  }\n  setBorder(d, e) {\n    d.border = !d.border;\n    let range = document.createRange();\n    range.selectNodeContents(e.target); // document.getElementById('test')\n    range.collapse(false);\n    let sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n    this.editFocus();\n  }\n  // 不支持直接粘贴图片的情况下要用到这个函数\n  editPaste(e) {\n    var cbd = e.clipboardData;    \n    var ua = window.navigator.userAgent;\n\n    // 如果是 Safari 直接 return\n    if (!(e.clipboardData && e.clipboardData.items)) {\n      return;\n    }\n    // Mac平台下Chrome49版本以下 复制Finder中的文件的Bug Hack掉\n    if (\n      cbd.items &&\n      cbd.items.length === 2 &&\n      cbd.items[0].kind === 'string' &&\n      cbd.items[1].kind === 'file' &&\n      cbd.types &&\n      cbd.types.length === 2 &&\n      cbd.types[0] === 'text/plain' &&\n      cbd.types[1] === 'Files' &&\n      ua.match(/Macintosh/i) &&\n      Number(ua.match(/Chrome\\/(\\d{2})/i)[1]) < 49\n    ) {\n      return;\n    }\n    !cbd.items.length &&\n      this.com.showAlert(\n        { en: 'Only screenshots can be pasted', zh: '只能粘贴截图' }[\n          this.com.localId\n        ]\n      );\n    for (var i = 0; i < cbd.items.length; i++) {\n      var item = cbd.items[i];\n      if (item.kind == 'file') {\n        // blob 就是从剪切板获得的文件 可以进行上传或其他操作\n        var blob = item.getAsFile();\n        if (blob.size === 0) {\n          return;\n        }\n      }\n      // 图片就预览 -文件也预览,可以上传的文件blob\n      if (item.type.indexOf('image') > -1) {\n        e.preventDefault();\n        this.com.preview(blob, (src) => {\n          // 如果前面是一个img标签且是data开头\n          let file = {\n            type: 'img',\n            src,\n            file: blob,\n            fid: 'img' + Date.now(),\n          };\n          this.files.push(file);\n          this.newFileNode(file);\n          this.keepLastIndex(this.target);\n        });\n      }\n    }\n  }\n  // 定位光标到最后\n  keepLastIndex(obj) {\n    if (window.getSelection) {\n      //ie11 10 9 ff safari\n      obj.focus(); //解决ff不获取焦点无法定位问题\n      var range = window.getSelection(); //创建range\n      range.selectAllChildren(obj);\n      range.collapseToEnd();\n    }\n  }\n  setEditDivUsable() {\n    \n    if (!this.isServer || (this.isServer && !this.noUser) )\n    this.target.setAttribute(\n      'contenteditable',\n      'true'\n    );\n  }\n  editFocus() {\n    this.showPlaceHolder = false;\n  }\n  editBlur(e) {\n    this.editText = e.target.innerHTML;\n    this.showPlaceHolder = !this.editText;\n  }\n\n  editInput(e) {\n    //\n  }\n  editKeyUp(e) {\n    if (e.keyCode === 13) {\n      // 回车发送\n      this.send();\n    }\n  }\n\n  clickImg(e) {\n    this.com.previewOption.isShowMask = true;\n    this.com.previewOption.src = e.target.src;\n  }\n\n  send() {\n    let html = this.target.innerHTML.trim().replace(/<br>/g,''); \n   \n    let div = document.createElement('div');\n    div.innerHTML = html;\n    \n    if (html) {\n      // 分析editText\n      let content: any = { data: html, mark: Date.now().toString() };\n      // 显示到聊天框右侧\n      content.isServer = this.isServer;\n      content.position = false;\n      this.chatListChange.emit({send:0,content})\n     \n\n      let count = 0;\n      this.files.forEach((file, i) => {\n        html.indexOf(file.fid) === -1 && this.files.splice(i, 1);\n      });\n\n      if (this.files.length) {\n        // 判断files 有没有删除掉\n        this.files.forEach((el) => {\n          this.com.uploadFile(\n            el,\n            (file, err?) => {\n              if (err) {\n                // 发送失败\n                this.chatListChange.emit({send:-1,content})               \n              } else {\n                count++;\n                let span = null;\n                \n                Array.from(div.childNodes).forEach((el: any) => {\n                  el.id === file.fid && (span = el);\n                });\n                try {\n                  if (file.type === 'img' || file.type==='video') {\n                    span.children[0].setAttribute('src', file.src);\n                  } else if (file.type === 'file') {\n                    span.children[1].setAttribute('href', file.src);\n                    span.children[1].setAttribute('download', file.name);\n                  } \n                } catch (e) {}\n                if (count === this.files.length) {\n                  content.data = div.innerHTML;\n                  \n                  this.sendMsg(content);\n                }\n              }\n            },\n            (file) => {\n              // chatList 显示进度条              \n              content.uploadProgress = file.uploadProgress;\n            }\n          );\n        });\n      } else {\n        // 没有文件时\n        this.sendMsg(content);\n      }\n    } else {\n      this.com.showAlert(\n        { en: 'Please fill in the message', zh: '请填写消息' }[this.com.localId]\n      );\n    }\n    this.target.innerHTML = '';\n  }\n \n  sendMsg(content) {\n    this.com.sendMsg(\n      content,\n      (data) => {\n        this.files = [];\n        this.chatListChange.emit({send:1,content})\n      },\n      (res) => {\n        // 失败-客户端就显示失败的消息到聊天框\n        \n        if (res && res.msg === '客服不在线') {\n          let offline: any = {\n            data: {\n              en:\n                'Customer service is not online, please visit again in a few minutes',\n              zh: '客服不在线,请过几分钟后再访问',\n            }[this.com.localId],\n            mark: Date.now().toString(),\n          };\n          offline.isServer = true;\n          offline.position = true;\n          this.chatListChange.emit({send:0,content:offline})          \n        } else {\n          this.chatListChange.emit({send:-1,content})          \n          this.com.showAlert({en:'Send failed !',zh:'发送失败'}[this.com.localId]);\n        }\n      },\n      this.isServer\n    );\n  }\n}\n","\n<!-- 操作区 -->\n<div class=\"op pos-r\">\n  <!-- 选择图片 -->\n  <div class=\"pos-r\" >\n      <span class=\"iconfont icon-photo vm ml-1 csr\"></span>\n      <input type=\"file\" title=\"上传图片/视频/文件\" i18n-title class=\"pos-a file csr\"   (change)=\"getFile($event)\" [disabled]=\"isServer&& noUser\"/>      \n  </div>\n  <!-- 历史记录 -->\n  <span class=\"pos-a history-clock\" [class]=\"isServer?'':'d-none'\" id=\"showHistoryIcon\">\n      <i id=\"historyIcon\" class=\"iconfont icon-clock mr-1 csr\"></i>\n  </span>\n</div>   \n\n<!-- 发送按钮 -->\n<div class=\"send-area clearfix\">\n  <div name=\"editText\" class=\"textarea pos-r  vm  ie-scroll other-scroll\"\n    [class]=\"showPlaceHolder?(isServer && noUser?'placeholder-disabled-':'placeholder-')+this.com.localId:''\" (focus)=\"editFocus()\"\n    (blur)=\"editBlur($event)\" (input)=\"editInput($event)\" (keyup)=\"editKeyUp($event)\" id=\"editDiv\"\n    (paste)=\"editPaste($event)\">     \n  </div> \n  <button class=\"bg-light-base fr vm csr\" (click)=\"send()\" [disabled]=\"isServer && noUser\" i18n=\"send\">发送</button>\n</div>\n","import { Component, Input, OnInit, Output } from '@angular/core';\nimport { ComService } from 'src/app/core/com.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css'],\n})\nexport class HeaderComponent implements OnInit {\n  @Input() show: boolean;\n  @Input() isServer: boolean;\n  @Input() myID: any;\n\n  stateMenuShow: boolean = false;\n\n  constructor(public com: ComService) {}\n\n  ngOnInit(): void {}\n  showStateMenu() {\n    if (!this.com.reconnect) {\n      this.stateMenuShow = !this.stateMenuShow;\n    }\n  }\n  logout() {\n    // 登出\n    this.com.logout();\n    this.com.isLogin = false;\n  }\n}\n","<div class=\"title bg-base noselect pos-r\" *ngIf=\"show\" ondragstart=\"return false\" id=\"nameTitle\">\n    <img src=\"assets/images/logo.png\" class=\"vm\">\n    <span i18n=\"@@onlineServer\">在线客服</span>\n    <div class='fr name  '>\n      <span class=\"mr-1 blink text-red\" [class]=\"'blink-'+com.localId\" *ngIf=\"com.reconnect\"></span>\n      <span class=\"mr-1\"  *ngIf=\"isServer\"><ng-container i18n=\"@@server\">客服</ng-container>{{myID}}</span>\n      <div class=\"d-inline-block\" (click)=\"showStateMenu();\"  *ngIf=\"isServer\">\n        <span class=\"iconfont icon-true online\" *ngIf=\"!com.reconnect\"></span>\n        <span class=\"iconfont icon-error error\" *ngIf=\"com.reconnect\"></span>\n        <span class=\"state-txt\" i18n=\"@@online\" *ngIf=\"!com.reconnect\">在线</span>\n        <span class=\"state-txt\" i18n=\"@@offline\" *ngIf=\"com.reconnect\">掉线</span>\n        <i class=\"iconfont icon-dropdown\" *ngIf=\"!com.reconnect\"></i>\n      </div>\n      <ul class=\"state-menu pos-a\" [class]=\"stateMenuShow?'show':''\"  *ngIf=\"isServer\">\n        <li class=\"active\" i18n=\"@@online\">在线</li>\n        <li (click)=\"logout();\" i18n=\"@@logout\">登出</li>\n      </ul>\n    </div>\n  </div>\n",";(function (undefined) {\n    var _global;\n    //工具函数\n    //配置合并\n    function extend (def,opt,override) {\n        for(var k in opt){\n            if(opt.hasOwnProperty(k) && (!def.hasOwnProperty(k) || override)){\n                def[k] = opt[k]\n            }\n        }\n        return def;\n    }\n    //日期格式化\n    function formartDate (y,m,d,symbol) {\n        symbol = symbol || '-';\n        m = (m.toString())[1] ? m : '0'+m;\n        d = (d.toString())[1] ? d : '0'+d;\n        return y+symbol+m+symbol+d\n    }\n \n    function Schedule (opt) {\n        var def = {},\n            opt = extend(def,opt,true),\n            curDate = opt.date ? new Date(opt.date) : new Date(),\n            year = curDate.getFullYear(),\n            month = curDate.getMonth(),\n            day = curDate.getDate(),  \n            currentYear = curDate.getFullYear(),\n            currentMonth = curDate.getMonth(),\n            currentDay = curDate.getDate(),\n            selectedDate = '',\n            el = document.querySelector(opt.el) || document.querySelector('body'),\n            _this = this;\n        var bindEvent = function (){\n            el.addEventListener('click',function(e){\n                switch (e.target.id) {\n                    case 'nextMonth': \n                        _this.nextMonthFun();\n                        break;\n                    case 'nextYear': \n                        _this.nextYearFun();\n                        break;\n                    case 'prevMonth': \n                        _this.prevMonthFun();\n                        break;\n                    case 'prevYear': \n                        _this.prevYearFun();\n                        break;\n                    default:\n                        break;\n                };\n                if(e.target.className.indexOf('currentDate') > -1){\n                    opt.clickCb && opt.clickCb(year, month+1, e.target.innerHTML);\n                    selectedDate = e.target.title;\n                    day = e.target.innerHTML;\n                    render();\n                }\n            },false)\n        }\n        var init = function () {\n             let translate = {\n                 lastYear:{en:'Last Year',zh:'上一年'},\n                 lastMonth:{en:'Last Month',zh:'上个月'},\n                 nextMonth:{en:'Next Month',zh:'下个月'},\n                 nextYear:{en:'Next Year',zh:'下一年'},\n                 Mo:{en:'Mo',zh:'一'},\n                 Tu:{en:'Tu',zh:'二'},\n                 Wed:{en:'Wed',zh:'三'},\n                 Thr:{en:'Thr',zh:'四'},\n                 Fr:{en:'Fr',zh:'五'},\n                 Sa:{en:'Sa',zh:'六'},\n                 Sun:{en:'Sun',zh:'日'}\n             }\n            var scheduleHd = '<div class=\"schedule-hd\">'+\n                                '<div>'+\n                                    '<span class=\"icon iconfont icon-double-less-than\" id=\"prevYear\" title=\"'+translate.lastYear[opt.lang]+'\"></span>'+\n                                    '<span class=\"arrow icon iconfont icon-less-than\" id=\"prevMonth\" title=\"'+translate.lastMonth[opt.lang]+'\"></span>'+\n                                '</div>'+\n                                '<div class=\"today\">'+formartDate(year,month+1,day,'-')+'</div>'+\n                                '<div>'+\n                                    '<span class=\"arrow icon iconfont icon-great-than\" id=\"nextMonth\" title=\"'+translate.nextMonth[opt.lang]+'\"></span>'+\n                                    '<span class=\"arrow icon iconfont icon-double-great-than\" id=\"nextYear\" title=\"'+translate.nextYear[opt.lang]+'\"></span>'+\n                                '</div>'+\n                            '</div>'\n            var scheduleWeek = '<ul class=\"week-ul ul-box\">'+\n                                    '<li class=\"text-red\">'+translate.Sun[opt.lang]+'</li>'+\n                                    '<li>'+translate.Mo[opt.lang]+'</li>'+\n                                    '<li>'+translate.Tu[opt.lang]+'</li>'+\n                                    '<li>'+translate.Wed[opt.lang]+'</li>'+\n                                    '<li>'+translate.Thr[opt.lang]+'</li>'+\n                                    '<li>'+translate.Fr[opt.lang]+'</li>'+\n                                    '<li class=\"text-red\">'+translate.Sa[opt.lang]+'</li>'+\n                                '</ul>'\n            var scheduleBd = '<ul class=\"schedule-bd ul-box bg-white\" ></ul>'; \n            el.innerHTML = scheduleHd + scheduleWeek + scheduleBd;\n            bindEvent();\n            render();\n        }\n        var render = function () {\n            var fullDay = new Date(year,month+1,0).getDate(), //当月总天数\n            startWeek = new Date(year,month,1).getDay(), //当月第一天是周几\n            total = (fullDay+startWeek)%7 == 0 ? (fullDay+startWeek) : fullDay+startWeek+(7-(fullDay+startWeek)%7),//元素总个数\n            lastMonthDay = new Date(year,month,0).getDate(), //上月最后一天\n            eleTemp = [];\n            if(day > fullDay){\n                day = fullDay\n            }\n            for(var i = 0; i < total; i++){\n                if(i<startWeek){\n                    eleTemp.push('<li class=\"other-month\"><span class=\"dayStyle\">'+(lastMonthDay-startWeek+1+i)+'</span></li>')\n                }else if(i<(startWeek+fullDay)){\n                    var nowDate = formartDate(year,month+1,(i+1-startWeek),'-');\n                    var addClass = '';\n                    selectedDate == nowDate && (addClass = 'selected-style');\n                    formartDate(currentYear,currentMonth+1,currentDay,'-') == nowDate && (addClass = 'today-flag');\n                    eleTemp.push('<li class=\"current-month\" ><span title='+nowDate+' class=\"currentDate dayStyle '+addClass+'\">'+(i+1-startWeek)+'</span></li>')\n                }else{\n                    eleTemp.push('<li class=\"other-month\"><span class=\"dayStyle\">'+(i+1-(startWeek+fullDay))+'</span></li>')\n                }\n            }\n            el.querySelector('.schedule-bd').innerHTML = eleTemp.join('');\n            el.querySelector('.today').innerHTML = formartDate(year,month+1,day,'-');\n        };\n        this.nextMonthFun = function () {\n            if(month+1 > 11){\n                year += 1;\n                month = 0;\n            }else{\n                month += 1;\n            }\n            render();\n            opt.nextMonthCb && opt.nextMonthCb(year,month+1,day);\n        },\n        this.nextYearFun = function () {\n            year += 1;\n            render();\n            opt.nextYeayCb && opt.nextYeayCb(year,month+1,day);\n        },\n        this.prevMonthFun = function () {\n            if(month-1 < 0){\n                year -= 1;\n                month = 11;\n            }else{\n                month -= 1;\n            }\n            render();\n            opt.prevMonthCb && opt.prevMonthCb(year,month+1,day);\n        },\n        this.prevYearFun = function () {\n            year -= 1;\n            render();\n            opt.prevYearCb && opt.prevYearCb(year,month+1,day);\n        }\n        init();\n    }\n    //将插件暴露给全局对象\n    _global = (function(){return this || (0,eval)('this')}());\n    if(typeof module !== 'undefined' && module.exports){\n        module.exports = Schedule;\n    }else if (typeof define === \"function\" && define.amd){\n        define(function () {\n            return Schedule;\n        })\n    }else {\n        !('Schedule' in _global) && (_global.Schedule = Schedule);\n    }\n \n}());","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}